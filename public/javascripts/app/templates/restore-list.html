<!-- ERROR STATUS -->
<div ng-if="hasError">
  Oops we have an error
</div>

<!-- HEADER -->
<gu-row skin="header">
  <gu-column span="2">
    <gu-row>
      <!-- COMPOSER ICON -->
      <gu-column class="center" flex span="2" gu-box="tertiary" skin="header">
        <gu-icon class="composer-icon" variant="composer-icon"></gu-icon>
      </gu-column>
      <!-- PAGE STATUS -->
      <gu-column class="center" flex span="5" gu-box="tertiary" skin="header">
        <span class="content-type">Snapshot</span>
      </gu-column>
      <gu-column span="5" gu-box="tertiary"></gu-column>
    </gu-row>
  </gu-column>
  <!-- MAIN HEADER -->
  <gu-column span="10" gu-box="tertiary" skin="header"></gu-column>
</gu-row>

<!-- PRELOADER -->
<div ng-if="isLoading">
  <div class="spinner">
    <div class="rect1"></div>
    <div class="rect2"></div>
    <div class="rect3"></div>
    <div class="rect4"></div>
    <div class="rect5"></div>
  </div>
</div>

<gu-row ng-if="!isLoading" class="content">
  <gu-column  class="sidebar"
              span="3"
              gu-box="secondary"
              ng-class="{'active': !isLoading}"
              ng-controller="SnapshotListInteractionCtrl as ctrl">
    <!-- SNAPSHOT LIST -->
    <h1 class="article-headline">{{ articleTitle }}</h1>
    <h6 class="article-hash">({{ articleHash }})</h6>

    <gu-row class="snapshot-list-header">
      <span class="snapshot-list-header__decal">No.</span>
      <span class="snapshot-list-header__content">Snapped at</span>
    </gu-row>

    <gu-index-list class="snapshot-list">
      <gu-index-list-item variant="{{ model.get('activeState') ? 'quaternary' : 'primary' }}"
                          class="snapshot-list__item"
                          ng-repeat-start="model in models"
                          index="{{ models.length - $index }}"
                          ng-class="{ 'item-active': model.get('activeState') }"
                          ng-click="ctrl.onItemClicked(model, models)">
        <!-- CONTENT -->
        <div class="snapshot-list__item__content">
          <h6 class="snapshot-list__item__content__relative-date">{{ model.getRelativeDate() }}</h6>
          <h6 class="snapshot-list__item__content__actual-date">{{ model.getCreatedDate() }}</h6>
        </div>

        <!-- JSON LINK -->
        <gu-btn class="snapshot-list__item__json" ng-class="{ hidden: !model.get('activeState') }" href="#" variant="arrow-right">JSON</gu-btn>

        <!-- RESTORE LINK -->
        <gu-btn class="snapshot-list__item__restore" ng-class="{ hidden: !model.get('activeState') }" href="#" variant="arrow-right">
          <gu-icon class="snapshot-list__item__restore__icon" variant="wrench-disabled"></gu-icon>
          Restore
        </gu-btn>

      </gu-index-list-item>

      <li ng-repeat-end>
        <gu-row class="delta-row" variant="reverse">
          <gu-icon variant="expand-disabled"></gu-icon>
        </gu-row>
      </li>

    </gu-index-list>

  </gu-column>
  <gu-column  class="snapshot-content"
              span="9"
              ng-controller="SnapshotContentCtrl as ctrl"
              ng-bind-html="htmlContent"
              ng-class="{'active': isSettingContent === false}">
  </gu-column>

</gu-row>
